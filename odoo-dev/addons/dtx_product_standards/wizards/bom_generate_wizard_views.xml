<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ==========================================
         WIZARD: GENERATE BOM FROM TEMPLATE
         ========================================== -->
    <record id="view_dtx_bom_generate_wizard_form" model="ir.ui.view">
        <field name="name">dtx.bom.generate.wizard.form</field>
        <field name="model">dtx.bom.generate.wizard</field>
        <field name="arch" type="xml">
            <form string="T·∫°o / C·∫≠p nh·∫≠t BOM">
                <header>
                    <button name="action_generate_bom"
                            string="X√°c nh·∫≠n t·∫°o BOM"
                            type="object"
                            class="btn-primary"
                            attrs="{'invisible': [('state', '=', 'done')]}"/>
                    <button name="action_view_bom"
                            string="Xem BOM"
                            type="object"
                            class="btn-primary"
                            attrs="{'invisible': [('state', '!=', 'done')]}"/>
                    <button name="action_close"
                            string="ƒê√≥ng"
                            type="object"
                            class="btn-secondary"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,done"/>
                </header>

                <sheet>
                    <!-- Confirmation screen -->
                    <group attrs="{'invisible': [('state', '=', 'done')]}">
                        <group string="BOM Template">
                            <field name="template_id" readonly="1"/>
                            <field name="finished_product_tmpl_id" readonly="1"/>
                            <field name="component_count" readonly="1"/>
                        </group>

                        <group string="Gia c√¥ng">
                            <field name="subcontractor_id" readonly="1"/>
                        </group>

                        <group string="Tr·∫°ng th√°i" colspan="2">
                            <field name="mode" readonly="1" widget="badge"
                                   decoration-success="mode == 'create'"
                                   decoration-warning="mode == 'update'"/>
                            <field name="bom_exists" invisible="1"/>
                            <field name="existing_bom_id" readonly="1"
                                   attrs="{'invisible': [('bom_exists', '=', False)]}"/>
                        </group>
                    </group>

                    <group attrs="{'invisible': [('state', '=', 'done')]}">
                        <group colspan="2">
                            <div class="alert alert-warning" role="alert"
                                 attrs="{'invisible': [('mode', '!=', 'update')]}">
                                <h4>‚ö†Ô∏è C·∫£nh b√°o</h4>
                                <p>
                                    <strong>BOM ƒë√£ t·ªìn t·∫°i cho s·∫£n ph·∫©m n√†y!</strong>
                                </p>
                                <p>
                                    Khi click "X√°c nh·∫≠n t·∫°o BOM":
                                </p>
                                <ul>
                                    <li>BOM hi·ªán t·∫°i s·∫Ω ƒë∆∞·ª£c C·∫¨P NH·∫¨T (kh√¥ng t·∫°o m·ªõi)</li>
                                    <li>T·∫•t c·∫£ d√≤ng linh ki·ªán c≈© s·∫Ω b·ªã X√ìA</li>
                                    <li>D√≤ng linh ki·ªán m·ªõi t·ª´ template s·∫Ω ƒë∆∞·ª£c th√™m v√†o</li>
                                </ul>
                            </div>

                            <div class="alert alert-info" role="alert"
                                 attrs="{'invisible': [('mode', '!=', 'create')]}">
                                <h4>‚ÑπÔ∏è Th√¥ng tin</h4>
                                <p>
                                    <strong>BOM m·ªõi s·∫Ω ƒë∆∞·ª£c t·∫°o</strong>
                                </p>
                                <p>
                                    Sau khi t·∫°o BOM, b·∫°n c√≥ th·ªÉ:
                                </p>
                                <ul>
                                    <li>T·∫°o Manufacturing Order (MO) ƒë·ªÉ s·∫£n xu·∫•t Kiosk</li>
                                    <li>Odoo t·ª± ƒë·ªông tr·ª´ linh ki·ªán ra kh·ªèi kho khi s·∫£n xu·∫•t</li>
                                    <li>S·∫£n ph·∫©m Kiosk ho√†n ch·ªânh s·∫Ω v√†o kho sau khi MO ho√†n t·∫•t</li>
                                </ul>
                            </div>

                            <div class="alert alert-success" role="alert"
                                 attrs="{'invisible': [('subcontractor_id', '=', False)]}">
                                <h4>üè≠ Gia c√¥ng thu√™ ngo√†i</h4>
                                <p>
                                    <strong>BOM s·∫Ω ƒë∆∞·ª£c c·∫•u h√¨nh cho subcontracting</strong>
                                </p>
                                <p>
                                    ƒê·ªëi t√°c gia c√¥ng: <field name="subcontractor_id" readonly="1" nolabel="1" class="font-weight-bold"/>
                                </p>
                                <p>
                                    Quy tr√¨nh:
                                </p>
                                <ul>
                                    <li>T·∫°o Purchase Order v·ªõi ƒë·ªëi t√°c gia c√¥ng</li>
                                    <li>G·ª≠i linh ki·ªán cho ƒë·ªëi t√°c (Odoo t·ª± ƒë·ªông t√≠nh)</li>
                                    <li>Nh·∫≠n Kiosk ho√†n ch·ªânh v·ªÅ kho</li>
                                </ul>
                            </div>
                        </group>
                    </group>

                    <!-- Result screen -->
                    <group attrs="{'invisible': [('state', '!=', 'done')]}">
                        <group string="K·∫øt qu·∫£" colspan="2">
                            <field name="created_bom_id" readonly="1"/>
                            <field name="result_message" nolabel="1"
                                   widget="text"
                                   readonly="1"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

</odoo>
